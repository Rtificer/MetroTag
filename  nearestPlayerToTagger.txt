
from geolib import geohash, distance

# get the player list
# getDistance(start, end, accuracy = 1) geoLib function
# getCenter(coords)
# Example list of player locations (latitude, longitude)
players = {
    "player1": (37.7749, -122.4194),  # San Francisco
    "player2": (34.0522, -118.2437),  # Los Angeles
    "player3": (40.7128, -74.0060)    # New York
}

# Tagger's location parsed
tagger_location = (36.7783, -119.4179)  # Example location in California

def find_nearest_player(tagger_coords, player_dict):
    nearest_player = None
    min_distance = float('inf')

    for player, coords in players_dict.items():
        dist = distance.distance(tagger_coords, coords)  # Calculate distance
        if dist < min_distance:
            min_distance = dist
            nearest_player = player

    return nearest_player, min_distance

nearest_player, distance_to_tagger = find_nearest_player(tagger_location, players)
print(f"Nearest player: {nearest_player}, Distance: {distance_to_tagger:.2f} km")


def find_nearest_player(tagger, players):
    nearest_player = None
    min_distance = float('inf')  # Initialize with a large value

    for player in players:
        if player.user_name != tagger.user_name:  # Skip the tagger itself
            # Calculate distance using geolib
            distance = geohash.distance(
                (tagger.location.latitude, tagger.location.longitude),
                (player.location.latitude, player.location.longitude)
            )
            if distance < min_distance:
                min_distance = distance
                nearest_player = player

    return nearest_player, min_distance

    from geolib import geohash